CREATE TABLE "Drivers" (
	"IdDrive"	INTEGER NOT NULL,
	"DesDrive"	TEXT,
	"TlfNam"	TEXT,
	"IsAct"	INTEGER,
	"IsExtrn"	INTEGER,
	"RegDat"	INTEGER,
	PRIMARY KEY("IdDrive" AUTOINCREMENT)
);

CREATE TABLE "GrpRel" (
	"IdRel"	INTEGER NOT NULL,
	"IdGrp"	INTEGER,
	"IdUsr"	INTEGER,
	"IsAdm"	INTEGER,
	"IsAct"	INTEGER,
	"RegDat"	INTEGER,
	PRIMARY KEY("IdRel" AUTOINCREMENT),
	FOREIGN KEY("IdGrp") REFERENCES "Grupos"("IdGrp"),
	FOREIGN KEY("IdUsr") REFERENCES "Usuarios"("IdUsr")
);

CREATE TABLE "Grupos" (
	"IdGrp"	INTEGER NOT NULL,
	"DesGrp"	TEXT,
	"NumGrp"	TEXT,
	"IsAct"	INTEGER,
	"RegDat"	INTEGER,
	PRIMARY KEY("IdGrp" AUTOINCREMENT)
);

CREATE TABLE "UsingToday" (
	"IdUsing"	INTEGER NOT NULL,
	"IdRel"	INTEGER,
	"IsUsing"	INTEGER,
	"IsAct"	INTEGER,
	"RegDat"	INTEGER,
	"Shift"	TEXT,
	PRIMARY KEY("IdUsing" AUTOINCREMENT),
	FOREIGN KEY("IdRel") REFERENCES "GrpRel"("IdRel")
);

CREATE TABLE "Usuarios" (
	"IdUsr"	INTEGER NOT NULL,
	"UserNam"	TEXT,
	"TlfNam"	TEXT,
	"IsAct"	INTEGER,
	"RegDat"	INTEGER,
	PRIMARY KEY("IdUsr" AUTOINCREMENT)
);

CREATE INDEX "Idx_Drivers_TlfNam" ON "Drivers" ("TlfNam");
CREATE INDEX "Idx_GrpRel_IdGrp_IdUsr" ON "GrpRel" ("IdGrp", "IdUsr");
CREATE INDEX "Idx_Grupos_NumGrp" ON "Grupos" ("NumGrp");
CREATE INDEX "Idx_UsingToday_IdRel_RegDat_Shift" ON "UsingToday" ("IdRel", "RegDat", "Shift");
CREATE INDEX "Idx_Usuarios_TlfNam" ON "Usuarios" ("TlfNam");

CREATE TABLE "Viajes" (
	"IdTrav"	INTEGER NOT NULL,
	"IdDrive"	INTEGER,
	"IdGrp"	INTEGER,
	"DesTrav"	TEXT,
	"RegDat"	TEXT,
	"IsAct"	INTEGER,
	PRIMARY KEY("IdTrav" AUTOINCREMENT),
	FOREIGN KEY("IdDrive") REFERENCES "Drivers"("IdDrive"),
	FOREIGN KEY("IdGrp") REFERENCES "Grupos"("IdGrp")
);